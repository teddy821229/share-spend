(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dedf140"],{2779:function(t,e,a){"use strict";a("fc39")},"4ef5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("TopNavBar",{attrs:{msg:"設定"}}),a("div",{staticClass:"content-container"},[a("SettingForm",{attrs:{"initial-user":t.user}})],1)],1)},r=[],i=a("5530"),n=a("ab4f"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form-row image-row"},[a("img",{staticClass:"image",attrs:{src:t._f("defaultImage")(t.user.avatar)}}),a("label",{attrs:{for:"image"}},[a("ion-icon",{attrs:{name:"image-outline"}}),t._v("選擇照片 ")],1),a("input",{attrs:{type:"file",id:"image",name:"image",accept:"image/*"},on:{change:t.handleFileChange}})]),a("div",{staticClass:"form-row normal-row"},[a("label",{attrs:{for:"account"}},[t._v("帳號：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.account,expression:"user.account"}],attrs:{type:"text",name:"account",id:"account"},domProps:{value:t.user.account},on:{input:function(e){e.target.composing||t.$set(t.user,"account",e.target.value)}}})]),a("div",{staticClass:"form-row normal-row"},[a("label",{attrs:{for:"password"}},[t._v("密碼：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password",name:"password",id:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.user.password!==t.dataCached.password,expression:"user.password !== dataCached.password"}],staticClass:"form-row normal-row"},[a("label",{attrs:{for:"password"}},[t._v("密碼確認：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.passwordConfirm,expression:"user.passwordConfirm"}],staticClass:"confirm-input",attrs:{type:"password",name:"passwordConfirm",id:"passwordConfirm"},domProps:{value:t.user.passwordConfirm},on:{input:function(e){e.target.composing||t.$set(t.user,"passwordConfirm",e.target.value)}}})]),a("div",{staticClass:"form-row normal-row"},[a("label",{attrs:{for:"email"}},[t._v("信箱：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{type:"email",name:"email",id:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),a("div",{staticClass:"form-row normal-row"},[a("label",{attrs:{for:"name"}},[t._v("名稱：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],attrs:{type:"text",name:"name",id:"name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),a("div",{staticClass:"button-container"},[a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.cancelEdit.apply(null,arguments)}}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("確認修改")])])])])},u=[],c=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b0c0"),a("498a"),a("2708")),l=a("2fa3"),m={name:"SettingForm",mixins:[c["a"]],props:{initialUser:{type:Object,required:!0}},created:function(){this.fetchUser()},data:function(){return{user:{id:-1,name:"",account:"",password:"",passwordConfirm:"",email:"",avatar:"",phone:""},dataCached:{id:-1,name:"",account:"",password:"",email:"",avatar:"",phone:""}}},methods:{handleFileChange:function(t){var e=t.target.files;if(0!==e.length){var a=window.URL.createObjectURL(e[0]);this.user.avatar=a}else this.user.avatar=""},fetchUser:function(){var t=this.initialUser,e=t.id,a=t.name,s=t.account,r=t.password,n=t.email,o=t.avatar,u=t.phone;this.user=Object(i["a"])(Object(i["a"])({},this.user),{},{id:e,name:a,account:s,password:r,email:n,avatar:o,phone:u}),this.dataCached=Object(i["a"])(Object(i["a"])({},this.dataCached),this.user)},handleSubmit:function(){this.user.account.trim()?this.user.password.trim()?this.user.password.length<8||this.user.password.length>15?l["a"].fire({icon:"warning",title:"密碼長度須介於8~15之間！"}):(this.user.password!==this.user.passwordConfirm&&l["a"].fire({icon:"warning",title:"密碼不相符，請重新輸入"}),this.user.email.trim()?this.user.name.trim()?(localStorage.setItem("currentUser",JSON.stringify(this.user)),this.$store.commit("setCurrentUser",this.user)):l["a"].fire({icon:"warning",title:"名稱請勿空白"}):l["a"].fire({icon:"warning",title:"信箱請勿空白"})):l["a"].fire({icon:"warning",title:"密碼請勿空白！"}):l["a"].fire({icon:"warning",title:"帳號請勿空白！"})},cancelEdit:function(){this.user=Object(i["a"])(Object(i["a"])({},this.user),this.dataCached)}}},d=m,p=(a("2779"),a("2877")),f=Object(p["a"])(d,o,u,!1,null,"5bcb9f63",null),w=f.exports,v=a("2f62"),h={name:"Setting",components:{TopNavBar:n["a"],SettingForm:w},methods:{},computed:Object(i["a"])({},Object(v["b"])(["user"]))},g=h,b=(a("6263"),Object(p["a"])(g,s,r,!1,null,"cfe1c2da",null));e["default"]=b.exports},6263:function(t,e,a){"use strict";a("9ef5")},"9ef5":function(t,e,a){},fc39:function(t,e,a){}}]);
//# sourceMappingURL=chunk-3dedf140.fc362107.js.map